ðŸŒŸ Stripe Subscription Flow
To implement a seamless subscription-based payment system using Stripe, follow these steps:

1. ðŸ“¦ Create a Product
Define your product or subscription plan in Stripe using stripe.products.create(). This represents the offering you want to charge your users for, like a subscription plan.

2. ðŸ’¸ Create a Price
Set up pricing for the product using stripe.prices.create(). Specify the price, currency, and billing intervals (e.g., monthly, yearly, or custom durations).

3. ðŸ‘¤ Create a Customer
Register the customer in Stripe using stripe.customers.create(). This allows you to associate payments and subscriptions with a specific user.

4. ðŸ›’ Create a Checkout Session
Generate a session for the customer to complete their payment securely using stripe.checkout.sessions.create(). This session provides a payment link for the customer.

5. ðŸ”„ Create a Subscription
After payment completion, create a subscription using stripe.subscriptions.create(). This sets up a recurring billing schedule based on the selected productâ€™s price and billing interval.

6. ðŸ“¬ Handle Webhooks
Set up Stripe webhooks to listen for important events like checkout.session.completed or customer.subscription.created. This ensures real-time updates to your system, allowing you to track subscription status changes.


===================================================================================
# PaymentIntent
A PaymentIntent in Stripe represents the intent to make a payment. It's an object created by Stripe that tracks the lifecycle of a payment from creation to completion.

Hereâ€™s what it does:
1. Tracks the payment flow: A PaymentIntent is associated with a specific amount and currency, and it holds all the details necessary to complete a payment.
2. Manages authentication: If a payment requires additional authentication (e.g., 3D Secure), Stripe will handle it within the PaymentIntent. It ensures that the transaction complies with regulations (like PSD2 in Europe).
3. Confirms the payment: Once the payment is confirmed, the PaymentIntent will indicate whether the payment was successful or failed.

# Checkout Session:
A Checkout Session is a pre-built, Stripe-hosted page for handling secure payments. It allows you to accept payments with minimal code by redirecting users to a Stripe-hosted checkout page. You create a Checkout Session when a user is ready to purchase a product, and it includes all the necessary information, such as:

1. The products or services being purchased
2. The total price
3. Customer details (if provided)
4. Payment method options
Once the customer completes the payment, Stripe will handle the post-payment flow, and you can configure how to redirect the user or handle the success/failure of the payment.

Use cases: One-time payments, Subscriptions, Donations

# Payment Link:
A Payment Link is a URL generated by Stripe that allows you to accept payments for a specific product or service. It provides a simple way to share a link with customers to make a payment without having to build a full checkout flow. This is often used for:

1. Sending payment requests via email or social media
2. Sharing with customers for a one-time payment or subscription
3. Accepting payments without integrating directly with your site
Payment links can be used for one-time purchases, subscriptions, and even invoices. They automatically create a checkout page when the customer visits the link.

# Subscription:
A Subscription in Stripe is a recurring payment model where the customer is charged on a regular basis (e.g., weekly, monthly, yearly). You can set up subscriptions for products/services that need to be paid for regularly. This involves:

1. Defining a product with pricing plans (e.g., $10/month, $100/year)
2. Creating a Subscription object that associates a customer with a specific plan
3. Handling the lifecycle of the subscription, such as renewals, cancellations, and payments
Subscriptions can be managed through the Stripe dashboard, and customers can change plans, update payment methods, and cancel subscriptions.

# Webhook:
A Webhook is an HTTP callback that Stripe sends to your server when an event occurs in your Stripe account. For example, when a payment is successful, a webhook can notify your server so you can take appropriate action (e.g., fulfilling an order or activating a subscription).

1. Stripe sends a wide range of events through webhooks, such as:
2. invoice.payment_succeeded (indicating successful payment)
3. checkout.session.completed (indicating successful Checkout Session)
4. customer.subscription.created (indicating a new subscription was created)
5. payment_intent.succeeded (indicating successful PaymentIntent)

Webhooks are essential for keeping your system in sync with Stripeâ€™s events and for processing payments, subscription updates, cancellations, and more.





Note:- 1. While setting webhook on Stripe GUi - we need to enter the frontend URL/endPointOfWebhook which will be used to send the data to the backend.
       2. To run ngrok - https://ngrok.com/    - i have created an account with amanfrontdev@gmail.com and password as Amankumar@123
       3. To run ngrok - open cmd and then run command - ngrok http 8000     ;here,8000  is PORT 